<div class="form mt-5">
    <h3 *ngIf="!newProduct.id" class="mb-4">Dodaj artikal</h3>
    <h3 *ngIf="newProduct.id" class="mb-4">Uredi artikal</h3>
    <div class="form-group">
        <label for="exampleInputEmail1">Naziv artikla</label>
        <input [(ngModel)]="newProduct.name" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleFormControlSelect1">Kategorija</label>
        <select [(ngModel)]="newProduct.category_id" class="form-control" id="exampleFormControlSelect1">
            <option value="-1">Odaberi</option>
            <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
        </select>
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Cijena</label>
        <input [(ngModel)]="newProduct.price" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Popust</label>
        <input [(ngModel)]="newProduct.discount" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Naslovna slika</label>
        <input [(ngModel)]="newProduct.defaultImage" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Slika 1</label>
        <input [(ngModel)]="newProduct.image1" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Slika 2</label>
        <input [(ngModel)]="newProduct.image2" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Slika 3</label>
        <input [(ngModel)]="newProduct.image3" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp">
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Opis</label>
        <textarea [(ngModel)]="newProduct.description" type="email" class="form-control" id="exampleInputEmail1"
            aria-describedby="emailHelp" rows="5"></textarea>
    </div>
    <button *ngIf="!newProduct.id"
        [disabled]="!newProduct.name || !newProduct.price || !newProduct.discount || !newProduct.price || !newProduct.defaultImage || !newProduct.image1 || !newProduct.image2 || !newProduct.image3"
        (click)="saveProduct()" type="submit" class="btn btn-primary save-prod">Spremi artikal</button>
    <button *ngIf="newProduct.id" (click)="updateProduct()" type="submit" class="btn btn-primary save-prod">Spasi
        izmjene</button>
    <button (click)="clearForm()" class="btn btn-outline-danger mt-2 w-100">Očisti formu</button>
</div>

<h3 class=" mt-5">Lista proizvoda</h3>
<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col" style="width: 20px;">id</th>
            <th scope="col" style="width: 200px;">Naziv artikla</th>
            <th scope="col" style="width: 200px;">Slika</th>
            <th scope="col" style="width: 400px;">Opis</th>
            <th scope="col" style="width: 100px;">Cijena</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of products">
            <td style="width: 20px;">{{ item.id }}</td>
            <td>
                <h5 style="color: #ec0e00;">{{ item.name }}</h5>
            </td>
            <td> <img [src]="item.defaultImage" alt="" height="100px"></td>
            <td>
                <p class="description m-0">{{ item.description }}</p>
            </td>
            <td style="font-weight: 500;">{{ item.price-item.discount | currency: "KM " }}</td>
            <td class="actions">
                <button (click)="editProduct(item)" type="button" class="btn btn-primary">
                    <i class="bi bi-pencil-square"></i>Uredi</button>
                <button (click)="deleteProduct(item.id)" type="button" class="btn btn-outline-danger delete-btn">
                    <i class="bi bi-trash"></i> Obriši</button>
            </td>
        </tr>
    </tbody>
</table>